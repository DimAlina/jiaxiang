<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录页面</title>
</head>
<body onload="checkCookie()">

<script>

//设置 cookie
function setCookie(cname,cvalue,exdays)
{
    // 设置用户的过期时间
    if(exdays){
        var d = new Date();
        d.setTime(d.getTime()+(exdays*24*60*60*1000));
        var expires = "expires="+d.toGMTString();
        document.cookie = cname + "=" + cvalue + "; " + expires + ";path=/";
    }else{
        document.cookie = cname + "=" + cvalue + ";path=/";
    }}
//获取 cookie
function getCookie(cname)
{
  var name = cname + "=";
  var ca = document.cookie.split(';');
  for(var i=0; i<ca.length; i++)
  {
    var c = ca[i].trim();
    if (c.indexOf(name)==0) return c.substring(name.length,c.length);
  }
  return "";
}
//检测 cookie
function checkCookie()
{
  var username=getCookie("username");
  if (username!="")
  {
    alert("Welcome " + username);
    location.href='./main.html';
  }
  else
  {
    username = prompt("Please enter your name:","");
    if (username!="" && username!=null)
    {
      setCookie("username",username,365);
    }
  }
}
setCookie();
getCookie();
checkCookie();


</script>

</body>
</html>
